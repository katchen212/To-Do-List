<!DOCTYPE html>
<html lang="en">
<meta charset="UTF-8">

<title>To Do List Application</title>
<link rel="stylesheet" href="jquery-ui.css">
<script src="https://katchen212.github.io/To-Do-List/jquery.js"></script>
<script src="https://katchen212.github.io/To-Do-List/jquery-ui.js"></script>

<script>
   
  $(document).ready(function(){
    $("input[type=checkbox]").removeAttr("checked");
    $("#tasks").tabs();
    $("ul").sortable({axis:"x", containment: "#deliverables"});
    $("ol").sortable({axis:"y", containment: "#deliverables"});
    $("#tasks").on("click", "input[type=checkbox]", function(){
      $(this).closest("li").slideUp(function(){
          $(this).remove();
      });
    });
    $("#tasks").on("click", "span.ui-icon-close", function(){
      var index = $(this).closest("li").index();
      var id = $(#main li:eq(" + index + ") a").attr("href");
      $("#main li:eq(" + index + ")".remove();
      $(id).remove();
      $("#tasks").tabs("refresh");
    });
    $("btnAddDeliverable").button();
    .click(function(){
      $("#deliverable-dialog").dialog({width:400, resizable:false, modal:true,
         buttons:{
           "Add new deliverable": function(){
              $("#tasks").tabs("refresh");
              var activeTab = $("#tasks").tabs("option", "active"); 
              var title = $("#main > li:nth-child(" + (activeTab +1) +") > a").attr("href");
              $("tasks " + title).append();                                                               
              $("#new-deliverable").val("<li><input type='checkbox'>" + $("#new-deliverable).val() + "</li>");
              $(this).dialog("close");
           },
           "Cancel":function(){
             $("new-deliverable").val("");
             $(this).dialog("close");                
       });
    });
    $("btnAddTask").button();
    .click(function() {
      $(#task-dialog").dialog({width:400, resizable:false, modal:true,
          buttons:{
            "Add new task" :function(){
                var taskName = $("#new-task").val();
                var replaceName = taskName.split(" ").join("_");
                $("<li><a href='#" + replaceName + "'>" + taskName + "</a>span class='ui-icon ui-icon-close'></span></li>")
                .appendTo("#main");
                $("<ol id='" + replaceName + "'></ol>").appendTo(#"tasks").sortable();
                $("#tasks").tabs("refresh");
                var tabCount = $("#tasks .ui-tabs-nav li").length;
                $("#tasks").tabs("option", "active", tabCount-1);
                $("#new-task").val("");
                $(this).dialog("close");
           },
            "Cancel":function(){
              $("#new-task").val("");
              $(this).dialog("close");
            }
  });
</script>
</head>
<body>
  <div id="container">
    <h2>To Do List</h2>
    <button id="btnAddTask">Add Task</button>
    <div id="tasks">
      <ul id="main">
        <li><a href="#addTasks">Add Tasks</a><span class="ui-icon ui-icon-close"></span></li>
        <li><a href="#modTasks">Modify Tasks</a>span class="ui-icon ui-icon-close"></span></li>
      </ul>
      <ol id="addTasks">
        <li><input type="checkbox">Add Deliverable</li>
        <li><input type="checkbox">Take Quiz</li>
      </ol>
      <ol id="modTasks">
        <li><input type="checkbox">Complete Labs</li>
        <li><input type="checkbox">Complete CodeLabs</li>
        <li><input type="checkbox">Complete PluralSight Courses</li>
      </ol>
    </div>
    <button id="btnAddDeliverable">Add Deliverable</button>
    <div id="task-dialog" title="Add a task" style="display:none;">
      <label for"new-task">Task name:</label><input id="task" type="text"/>
    </div>
     <div id="deliverable-dialog" title="Add a deliverable" style="display:none;">
      <label for"new-deliverable">Deliverable name:</label><input id="deliverable" type="text"/>
    </div>

	<script type="text/javascript" src="https://code.jquery.com/jquery-1.12.3.min.js"></script>

</body>
</html>

